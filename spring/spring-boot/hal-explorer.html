<h1>üìù HAL Explorer for Microservices Documentation</h1>

<p>
  Updated on: 27 Nov 2024
  
  
  
    - <a href="/geekmonks/authors/srvivek/">Vivek Singh</a>
  
</p>

<hr/>

<h3 id="-table-of-contents">üìö Table of Contents</h3>

<ul>
  <li><a href="#-table-of-contents">üìö Table of Contents</a></li>
  <li><a href="#-introduction">üöÄ Introduction</a></li>
  <li><a href="#-use-case">üéØ Use Case</a></li>
  <li><a href="#-features">üåü Features</a></li>
  <li><a href="#-advantages">üëç Advantages</a></li>
  <li><a href="#Ô∏è-drawbacks">‚ö†Ô∏è Drawbacks</a></li>
  <li><a href="#Ô∏è-mavenexternal-dependency">‚öôÔ∏è Maven/External Dependency</a>
    <ul>
      <li><a href="#-dependency-in-pomxml">üìñ Dependency in <code class="language-plaintext highlighter-rouge">pom.xml</code></a></li>
    </ul>
  </li>
  <li><a href="#-code-changes-exception-handling">üíª Code Changes: Exception Handling</a>
    <ul>
      <li><a href="#-custom-exception-handler-using-spring-hateoas">üß© Custom Exception Handler using Spring HATEOAS</a></li>
    </ul>
  </li>
  <li><a href="#-best-practices-for-exception-handling">üí° Best Practices for Exception Handling</a></li>
  <li><a href="#-security-considerations">üîí Security Considerations</a></li>
  <li><a href="#-default-hal-explorer-urls">üîó Default HAL Explorer URLs</a></li>
  <li><a href="#Ô∏è-hal-with-collectionmodel-and-spring-data-rest">üó∫Ô∏è HAL with CollectionModel and Spring Data REST</a>
    <ul>
      <li><a href="#Ô∏è-hal-collection-model-diagram-conceptual">üèóÔ∏è HAL Collection Model Diagram (Conceptual)</a></li>
    </ul>
  </li>
  <li><a href="#Ô∏è-suggested-improvement">üõ†Ô∏è Suggested Improvement</a></li>
</ul>

<hr />

<h3 id="-introduction">üöÄ Introduction</h3>

<p><strong>HAL Explorer</strong> is a client-side tool that provides a <strong>Rich UI</strong> to interact with <strong>Hypertext Application Language (HAL)</strong> - based REST APIs.</p>
<ul>
  <li>When integrated with Spring Boot, particularly with <strong>Spring Data REST</strong>, it simplifies API exploration and testing.</li>
  <li>It automatically renders links, allowing users to navigate the API through a graphical interface, which is crucial for <strong>HATEOAS</strong> (Hypermedia as an Engine of Application State) discovery. It‚Äôs a powerful tool for developers to visualize and debug their RESTful services.</li>
</ul>

<hr />

<h3 id="-use-case">üéØ Use Case</h3>

<p>The primary use case is to provide a <strong>developer-friendly, interactive UI</strong> for browsing a <strong>HATEOAS-enabled REST API</strong>. It‚Äôs particularly <code class="language-plaintext highlighter-rouge">useful for APIs built with Spring Data REST,</code> where the framework automatically generates resources and links.</p>
<ul>
  <li>It also helps in <strong>visualizing exceptions</strong> that are formatted according to the HAL specification (e.g., using <code class="language-plaintext highlighter-rouge">spring-hateoas</code>‚Äôs error representation), offering more clarity than raw JSON.</li>
</ul>

<hr />

<h3 id="-features">üåü Features</h3>

<p>HAL Explorer provides a rich, interactive interface for navigating HATEOAS-enabled APIs.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Feature</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Interactive API Navigation</strong></td>
      <td style="text-align: left">Allows browsing the API by <strong>clicking on hypermedia links</strong> (<code class="language-plaintext highlighter-rouge">_links</code>) provided in the resource representation.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Request Builder</strong></td>
      <td style="text-align: left">Provides easy-to-use forms to construct and submit various HTTP requests (<strong>GET, POST, PUT, DELETE</strong>) to the API endpoints.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>JSON/HAL Rendering</strong></td>
      <td style="text-align: left">Clearly displays the <strong>HAL-formatted responses</strong>, visually highlighting embedded resources and all available links for quick comprehension.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Debugging Tool</strong></td>
      <td style="text-align: left">Serves as an excellent tool for <strong>quickly inspecting API responses</strong> and verifying the generated HATEOAS structure and links.</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="-advantages">üëç Advantages</h3>

<p>Integrating HAL Explorer significantly improves the development and understanding of HATEOAS APIs.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Advantage</th>
      <th style="text-align: left">Benefit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>HATEOAS Visualization</strong></td>
      <td style="text-align: left">Makes the <strong>HATEOAS principle tangible and easy to test</strong>, showing how clients should navigate the API.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Reduced Client Effort</strong></td>
      <td style="text-align: left">Clients don‚Äôt need to hardcode URLs; they <strong>discover resources via links</strong>, leading to more decoupled applications.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Improved API Design</strong></td>
      <td style="text-align: left">Encourages and <strong>enforces a link-driven, RESTful API design</strong>, promoting consistency and evolvability.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Self-Documentation</strong></td>
      <td style="text-align: left">The API‚Äôs structure becomes <strong>self-documented</strong> through its link relations, making resource discovery intuitive.</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="Ô∏è-drawbacks">‚ö†Ô∏è Drawbacks</h3>

<p>While beneficial, there are trade-offs to consider when adopting HAL Explorer and HATEOAS.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Drawback</th>
      <th style="text-align: left">Impact/Consideration</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Overhead for Simple APIs</strong></td>
      <td style="text-align: left">May be <strong>overkill</strong> for extremely simple microservices or APIs without complex resource relations.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Learning Curve</strong></td>
      <td style="text-align: left">Developers and consumers unfamiliar with <strong>HAL and HATEOAS</strong> might need time to grasp the concepts fully.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Client Dependency</strong></td>
      <td style="text-align: left">Requires client applications to understand and <strong>process HAL links</strong>, which can complicate client-side logic compared to simple resource fetching.</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="Ô∏è-mavenexternal-dependency">‚öôÔ∏è Maven/External Dependency</h3>

<p>The provided dependency is for enabling the HAL Explorer UI. For a complete solution, especially for exception handling, the <code class="language-plaintext highlighter-rouge">spring-boot-starter-validation</code> is often included to handle constraints, and <code class="language-plaintext highlighter-rouge">spring-hateoas</code> is the core for HATEOAS.</p>

<h4 id="-dependency-in-pomxml">üìñ Dependency in <code class="language-plaintext highlighter-rouge">pom.xml</code></h4>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;project</span> <span class="err">...</span><span class="nt">&gt;</span>
    ...
    <span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-hateoas<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>

        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.data<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-data-rest-hal-explorer<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>

        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-validation<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        
        ...
    <span class="nt">&lt;/dependencies&gt;</span>
    ...
<span class="nt">&lt;/project&gt;</span>
</code></pre></div></div>

<hr />

<h3 id="-code-changes-exception-handling">üíª Code Changes: Exception Handling</h3>

<p>To provide a HAL-compliant error representation, you typically use an <code class="language-plaintext highlighter-rouge">@ControllerAdvice</code> and leverage <code class="language-plaintext highlighter-rouge">Spring HATEOAS</code>‚Äôs error-handling capabilities, such as creating a custom <code class="language-plaintext highlighter-rouge">ErrorModel</code> that extends <code class="language-plaintext highlighter-rouge">RepresentationModel</code> and includes <code class="language-plaintext highlighter-rouge">_links</code>.</p>

<h4 id="-custom-exception-handler-using-spring-hateoas">üß© Custom Exception Handler using Spring HATEOAS</h4>

<p>This demonstrates how to use <code class="language-plaintext highlighter-rouge">@ExceptionHandler</code> to return a standardized <code class="language-plaintext highlighter-rouge">ProblemDetail</code> (which is HATEOAS/RFC 7807 compliant and works well with HAL) for a custom exception, ensuring a consistent error format that HAL Explorer can consume.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.example.exception</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.hateoas.mediatype.problem.ProblemDetail</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ControllerAdvice</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ExceptionHandler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.context.request.WebRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler</span><span class="o">;</span>

<span class="nd">@ControllerAdvice</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GlobalExceptionHandler</span> <span class="kd">extends</span> <span class="nc">ResponseEntityExceptionHandler</span> <span class="o">{</span>

    <span class="nd">@ExceptionHandler</span><span class="o">(</span><span class="nc">ResourceNotFoundException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">ProblemDetail</span><span class="o">&gt;</span> <span class="nf">handleResourceNotFoundException</span><span class="o">(</span>
            <span class="nc">ResourceNotFoundException</span> <span class="n">ex</span><span class="o">,</span> <span class="nc">WebRequest</span> <span class="n">request</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// Create a ProblemDetail object, which is HATEOAS compatible</span>
        <span class="nc">ProblemDetail</span> <span class="n">problemDetail</span> <span class="o">=</span> <span class="nc">ProblemDetail</span><span class="o">.</span><span class="na">forStatusAndDetail</span><span class="o">(</span>
                <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">NOT_FOUND</span><span class="o">,</span> <span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>

        <span class="n">problemDetail</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Resource Not Found"</span><span class="o">);</span>
        <span class="c1">// You can add custom fields, which will be visible in HAL Explorer</span>
        <span class="n">problemDetail</span><span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">"timestamp"</span><span class="o">,</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span> 

        <span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="n">problemDetail</span><span class="o">,</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">NOT_FOUND</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<hr />

<h3 id="-best-practices-for-exception-handling">üí° Best Practices for Exception Handling</h3>

<p>These guidelines ensure your microservice‚Äôs error responses are consistent, informative, and HATEOAS-compliant, which works well with HAL Explorer.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Best Practice</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Key Mechanism</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Standardized Errors</strong></td>
      <td style="text-align: left">Format error responses using <strong>RFC 7807</strong> (Problem Details for HTTP APIs) to provide a consistent payload structure.</td>
      <td style="text-align: left">Use <strong><code class="language-plaintext highlighter-rouge">ProblemDetail</code></strong> (Spring HATEOAS)</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Self-Describing Errors</strong></td>
      <td style="text-align: left">Enhance discoverability by including hypermedia links within error responses.</td>
      <td style="text-align: left">Include a <strong><code class="language-plaintext highlighter-rouge">_links</code></strong> section linking to error documentation.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Consistent HTTP Statuses</strong></td>
      <td style="text-align: left">Always map exceptions to the most <strong>semantically accurate HTTP status code</strong> for client comprehension.</td>
      <td style="text-align: left">Use codes like <strong>404</strong> (Not Found), <strong>400</strong> (Bad Request), <strong>500</strong> (Internal Server Error).</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Security</strong></td>
      <td style="text-align: left">Prevent sensitive internal information from leaking to external clients.</td>
      <td style="text-align: left"><strong>Avoid exposing internal stack traces</strong> or system details in production.</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="-security-considerations">üîí Security Considerations</h3>

<p>The HAL Explorer is a powerful development tool and must be protected, especially in production or external-facing environments.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Consideration</th>
      <th style="text-align: left">Action / Implementation</th>
      <th style="text-align: left">Rationale</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Restrict Access</strong></td>
      <td style="text-align: left">Use <strong>Spring Security</strong> to gate access to the <code class="language-plaintext highlighter-rouge">/explorer</code> endpoint.</td>
      <td style="text-align: left">Limit visibility to only users with <strong>ADMIN</strong> or <strong>DEVELOPER</strong> roles to prevent unauthorized API exploration.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Environment-Specific</strong></td>
      <td style="text-align: left">Control the deployment of the HAL Explorer dependency.</td>
      <td style="text-align: left"><strong>Disable the dependency</strong> entirely in <strong>production</strong> and non-developer environments using Spring profiles.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Input Validation</strong></td>
      <td style="text-align: left">Maintain rigorous validation on all data received by your API endpoints.</td>
      <td style="text-align: left">Prevents common vulnerabilities like <strong>SQL Injection</strong> or <strong>Cross-Site Scripting (XSS)</strong>, regardless of the client (Explorer or otherwise).</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="-default-hal-explorer-urls">üîó Default HAL Explorer URLs</h3>

<p>Once the dependency is added and the application is running, the HAL Explorer UI is accessible at:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        - http://localhost:8080/explorer
        - http://localhost:8080/explorer/index.html#
</code></pre></div></div>

<hr />

<h3 id="Ô∏è-hal-with-collectionmodel-and-spring-data-rest">üó∫Ô∏è HAL with CollectionModel and Spring Data REST</h3>

<p>Spring HATEOAS provides the <strong><code class="language-plaintext highlighter-rouge">CollectionModel&lt;T&gt;</code></strong> class, which is a key component for representing a collection of resources in a HAL-compliant manner. Instead of returning a raw <code class="language-plaintext highlighter-rouge">List&lt;T&gt;</code>, you wrap it in <code class="language-plaintext highlighter-rouge">CollectionModel</code>, which allows you to embed resources and add collection-level links. <strong>Spring Data REST</strong> automatically handles this when exposing repositories, making the entire collection accessible through HAL Explorer with navigation links (e.g., pagination links).</p>

<h4 id="Ô∏è-hal-collection-model-diagram-conceptual">üèóÔ∏è HAL Collection Model Diagram (Conceptual)</h4>

<p>A conceptual view of how <code class="language-plaintext highlighter-rouge">CollectionModel</code> is rendered in HAL:</p>

<pre><code class="language-mermaid">graph TD
    A[Root Resource] --&gt; B{_links};
    A --&gt; C{_embedded};
    B --&gt; B1(self: /api/items);
    B --&gt; B2(next: /api/items?page=1);
    C --&gt; C1[items: List&lt;ItemModel&gt;];
    C1 --&gt; C2[ItemModel 1];
    C1 --&gt; C3[ItemModel 2];
    C2 --&gt; C2L{_links: self, owner};
    C3 --&gt; C3L{_links: self, owner};

    style A fill:#f9f,stroke:#333
    style B fill:#ccf,stroke:#333
    style C fill:#cfc,stroke:#333
</code></pre>

<p><br /></p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">CollectionModel&lt;T&gt;</code></strong> is used to represent a collection, automatically serializing as an object with <code class="language-plaintext highlighter-rouge">_links</code> (for collection navigation) and <code class="language-plaintext highlighter-rouge">_embedded</code> (containing the list of individual resource models).</li>
  <li><strong>Spring Data REST</strong> is a powerful feature that automatically implements HATEOAS for repositories. By simply including the <code class="language-plaintext highlighter-rouge">spring-boot-starter-data-rest</code> dependency, it exposes CRUD endpoints that <strong>natively use HAL</strong> and are fully navigable through the HAL Explorer. The explorer is the perfect tool to demonstrate this automation.</li>
</ul>

<hr />

<h3 id="Ô∏è-suggested-improvement">üõ†Ô∏è Suggested Improvement</h3>

<p>Your documentation structure is clear and well-organized, which is excellent for a Jekyll-hosted site.</p>

<ul>
  <li><strong>Add HATEOAS Example:</strong> Include a small Java code snippet that explicitly creates a <strong><code class="language-plaintext highlighter-rouge">CollectionModel</code></strong> and adds a link to it, to demonstrate HATEOAS manually, complementing the Spring Data REST automation. This will provide a complete picture for users who aren‚Äôt using Spring Data REST.</li>
</ul>

<p>Would you like me to generate a simple Java code example demonstrating the manual creation of a <code class="language-plaintext highlighter-rouge">CollectionModel</code> with links?</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>


<!-- TODO: add footer -->