<h1>Spring Security Basic Authentication</h1>

<p>
  Updated on: 03 Nov 2024
  
  
  
    - <a href="/geekmonks/authors/srvivek/">Vivek Singh</a>
  
</p>

<hr/>

<h2 id="a14-sboot-sc-basic-authentication-todo">a14-sboot-sc-basic-authentication [<strong><em>TODO</em></strong>]</h2>

<ul>
  <li>Dependency</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		&lt;!-- Spring Security --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
			&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
		&lt;/dependency&gt;

</code></pre></div></div>

<ul>
  <li>
    <p>Note: If facing any issue while starting the application, try following
      - Stop the server.
      - Update maven project (Alt + f5).
      - Start the server.</p>
  </li>
  <li>Default user is ‘user’.</li>
  <li>Get auto generated password from log.
    <ul>
      <li>Search in logs for “Using generated security password: “ text to get the auto generated password.</li>
    </ul>
  </li>
  <li>Configuring user and password in application properties</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		spring.security.user.name=vivek
		spring.security.user.password=welcome
</code></pre></div></div>

<ul>
  <li>Customizing default authentication
    <ul>
      <li>Create a Configuration class to override default authetication</li>
    </ul>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		import org.springframework.context.annotation.Bean;
		import org.springframework.context.annotation.Configuration;
		import org.springframework.security.config.Customizer;
		import org.springframework.security.config.annotation.web.builders.HttpSecurity;
		import org.springframework.security.web.SecurityFilterChain;
		
		@Configuration
		public class SpringSecurityConfiguration {
		
			@Bean
			SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {
		
				/* 
				 * All requests must be authorized.
				 * 
				 * Else return HTTP 403, it doesn't prompt for user creds.
				 */
				httpSecurity.authorizeHttpRequests(
						authorizationManagerRequestMatcherRegistryCustomizer -&gt; authorizationManagerRequestMatcherRegistryCustomizer
								.anyRequest().authenticated());
		
				/* 
				 * Prompt for authentication if request is not authorized.
				 * 
				 * Using default customizer
				 */
				httpSecurity.httpBasic(Customizer.withDefaults());
		
				/*
				 * Disabling CSRF as it may cause issue with HTTP methods - POST &amp; PUT.
				 * 
				 * if enabled, Keep prompting for user credentials for post request.
				 */
				httpSecurity.csrf(csrf -&gt; csrf.disable());
		
				return httpSecurity.build();
			}
		}

</code></pre></div></div>


<!-- TODO: add footer -->