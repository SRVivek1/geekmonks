<h1>User, Groups and Policies</h1>

<p>
  Updated on: 19 Sep 2025
  
  
  
    - <a href="/geekmonks/authors/srvivek/">Vivek Singh</a>
  
</p>

<hr/>

<h2 id="1-concept-overview">1. Concept Overview</h2>

<ul>
  <li><strong>AWS Identity and Access Management (IAM)</strong> is a fundamental and free-to-use <strong><em>AWS Global service</em></strong> that enables you to securely control access to your AWS resources.</li>
  <li>From an architect’s perspective, IAM is the <strong>security cornerstone</strong> of your cloud environment.
    <ul>
      <li>It’s about answering the critical questions of <strong>“who can do what and under what conditions?”</strong> within your AWS account.</li>
      <li>It enforces the principle of <strong>least privilege</strong>, ensuring that identities (users, applications, services) only have the permissions they absolutely need to perform their tasks, thereby minimizing the attack surface.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="2-detailed-explanation">2. Detailed Explanation</h2>

<ul>
  <li>
    <p>IAM is built on three core pillars: <strong>Identities</strong>, <strong>Policies</strong>, and <strong>Permissions</strong>.</p>

    <ul>
      <li><strong>Identities:</strong>
        <ul>
          <li>These are the entities that can be authenticated and authorized.</li>
          <li><strong>IAM Users:</strong>
            <ul>
              <li>These represent a single person within organization and can be grouped.</li>
              <li>They have long-term credentials like a username and password for console access, or access keys for programmatic access.</li>
              <li>Users dpn’t have to belong to a group, and also a iser can belon to multiple groups.</li>
              <li>Root account is created by default, shouldn’t be used or shared.</li>
            </ul>
          </li>
          <li><strong>IAM Groups:</strong>
            <ul>
              <li>A collection of IAM users.</li>
              <li>Groups only contain users and not other groups.</li>
              <li>Permissions are attached to a group, and all users in that group inherit those permissions.
                <ul>
                  <li>This simplifies management, as you don’t have to manage permissions for each user individually.</li>
                  <li>For example, you can have a “Developers” group with read-only access to a production database.</li>
                </ul>
              </li>
            </ul>
          </li>
          <li><strong>IAM Roles:</strong>
            <ul>
              <li>Some AWS services will need to perform actions on your behalf, to do dso, we will assign permissions to AWS services with IAM roles.</li>
              <li>An identity with permissions that can be “assumed” by an entity (a user, a service like an EC2 instance, or another AWS account) to gain temporary access.</li>
              <li>Roles do not have long-term credentials.</li>
              <li>They are crucial for implementing the principle of least privilege, especially for service-to-service communication.</li>
              <li><strong>Some common roles:</strong>
                <ul>
                  <li>EC2 Instance Roles</li>
                  <li>Lambda Function Roles</li>
                  <li>Roles for CloudFormation</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong>Policies:</strong>
        <ul>
          <li>These are JSON documents that define permissions. They are the “what” in “who can do what.”</li>
          <li>These policies define the permissions of the users and can be assigned to Users or Groups definining their access.</li>
          <li>A policy statement includes:
            <ul>
              <li><strong>Effect:</strong>
                <ul>
                  <li><code class="language-plaintext highlighter-rouge">Allow</code> or <code class="language-plaintext highlighter-rouge">Deny</code>.</li>
                  <li>The <code class="language-plaintext highlighter-rouge">Deny</code> effect always overrides an <code class="language-plaintext highlighter-rouge">Allow</code> effect.</li>
                </ul>
              </li>
              <li><strong>Action:</strong>
                <ul>
                  <li>The specific AWS service API calls that are allowed or denied (e.g., <code class="language-plaintext highlighter-rouge">s3:GetObject</code>, <code class="language-plaintext highlighter-rouge">ec2:RunInstances</code>).</li>
                </ul>
              </li>
              <li><strong>Resource:</strong>
                <ul>
                  <li>The specific AWS resource to which the action applies (e.g., a specific S3 bucket or an EC2 instance ARN).</li>
                </ul>
              </li>
              <li><strong>Principal:</strong>
                <ul>
                  <li>The user, role, or service that the policy applies to. (This is primarily used in resource-based policies).</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong>Permissions:</strong>
        <ul>
          <li>The combination of an identity and a policy, which grants the identity the ability to perform certain actions on specific resources.</li>
          <li>In AWS you apply the <strong><em>Least Privilege Principle</em></strong>, that is don’t give more permissions than a user needs.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="iam-password-policy"><strong>IAM Password Policy:</strong></h2>
<ul>
  <li>An IAM (Identity and Access Management) password policy is a set of rules that an administrator can define to enforce specific password requirements for users within an AWS account.</li>
  <li>The primary goal is to enhance the security of user passwords and protect AWS resources from unauthorized access.</li>
  <li>A strong password policy is a key component of a robust security posture, as it helps mitigate risks from common attacks like credential stuffing and brute-force guessing.</li>
</ul>

<h2 id="key-elements-of-an-iam-password-policy">Key Elements of an IAM Password Policy</h2>

<p>An IAM password policy includes several configurable settings that dictate password strength and management:</p>

<ul>
  <li><strong>Minimum Password Length</strong>:
    <ul>
      <li>Specifies the minimum number of characters a password must have. A longer password is generally more secure.</li>
      <li>The CIS (Center for Internet Security) recommends at least 14 characters.</li>
    </ul>
  </li>
  <li><strong>Password Complexity</strong>:
    <ul>
      <li>Requires passwords to include a mix of character types, such as uppercase letters, lowercase letters, numbers, and non-alphanumeric characters (symbols).</li>
    </ul>
  </li>
  <li><strong>Password Expiration</strong>:
    <ul>
      <li>Forces users to change their passwords after a specified period (e.g., every 90 days).</li>
      <li>This reduces the risk of a compromised password being used indefinitely.</li>
    </ul>
  </li>
  <li><strong>Password Reuse Prevention</strong>:
    <ul>
      <li>Prevents users from reusing a certain number of their previous passwords, which helps ensure that new passwords are unique and not easily predictable.</li>
    </ul>
  </li>
  <li><strong>User Password Changes</strong>:
    <ul>
      <li>Determines whether IAM users are allowed to change their own passwords.</li>
      <li>It’s considered a best practice to enable this so users can manage their own credentials, but it should be paired with a strong policy.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="how-to-configure-an-iam-password-policy">How to Configure an IAM Password Policy</h2>

<p>You can configure an IAM password policy through the AWS Management Console, the AWS Command Line Interface (CLI), or by using infrastructure as code (IaC) tools like AWS CloudFormation.</p>

<ol>
  <li><strong>Navigate to the IAM Dashboard</strong>: From the AWS Management Console, open the IAM service.</li>
  <li><strong>Access Account Settings</strong>: In the navigation pane, select “Account settings.”</li>
  <li>
    <p><strong>Edit the Password Policy</strong>: In the “Password policy” section, you can edit the settings to align with your organization’s security requirements.</p>
  </li>
  <li><strong>Save Changes</strong>: After configuring the desired settings, you save the changes, and the new policy is immediately enforced for all IAM users in the account. For existing users, the policy will be applied on their next password change or if their current password does not meet the new requirements.</li>
</ol>

<p>It’s important to note that an IAM password policy applies to all users in an AWS account and cannot be set on a per-user or per-group basis. For enhanced security, a password policy should be used in conjunction with other security measures, such as <strong>Multi-Factor Authentication (MFA)</strong>, which adds an extra layer of protection by requiring a second form of identity verification.</p>

<p>This video provides a great walkthrough of how to set up an IAM password policy and explains the different rules you can configure.</p>

<hr />
<h2 id="multi-factor-authentication-mfa">Multi-Factor Authentication (MFA)</h2>

<ul>
  <li>Multi-Factor Authentication (MFA) on AWS is a security best practice that adds an extra layer of protection to your account by requiring a second authentication factor in addition to a username and password. This “something you have” component is crucial because even if an attacker steals your password, they can’t access your AWS resources without the MFA device.</li>
</ul>

<h2 id="supported-mfa-devices">Supported MFA Devices</h2>

<p>AWS supports several types of MFA devices, allowing you to choose the option that best fits your security and operational needs.</p>

<h3 id="virtual-mfa-devices">Virtual MFA Devices</h3>

<p>Virtual MFA devices are applications that run on your smartphone or computer and generate a time-based one-time password (TOTP). This is a widely used and convenient option. Popular authenticator apps that work with AWS include:</p>

<ul>
  <li>Google Authenticator</li>
  <li>Microsoft Authenticator</li>
  <li>Authy</li>
</ul>

<p>These apps can manage multiple tokens on a single device, making them a flexible choice for users with multiple accounts.</p>

<h3 id="security-keys-fido">Security Keys (FIDO)</h3>

<p>FIDO (Fast IDentity Online) security keys are physical hardware devices that provide strong, phishing-resistant authentication using public key cryptography. These keys typically connect to your computer via USB, NFC, or Bluetooth. They require a physical action, like pressing a button on the key, to complete the authentication. Examples include:</p>

<ul>
  <li>YubiKey</li>
  <li>Other FIDO-certified products</li>
</ul>

<h3 id="hardware-totp-tokens">Hardware TOTP Tokens</h3>

<p>These are dedicated physical devices, often in the form of a key fob, that have a small screen and generate a new one-time password every few seconds. These are sometimes preferred for high-security accounts or when a smartphone is not a viable option.</p>

<p>You can enable MFA for both the AWS account root user and individual IAM users. It’s considered a critical security practice to enable MFA on the root user account and to enforce its use for all privileged IAM users.</p>

<p>This video provides a step-by-step guide on how to enable Multi-Factor Authentication for a user in AWS IAM.</p>

<hr />

<h2 id="3-code-examples">3. Code Examples</h2>

<ul>
  <li>Policies are written in JSON.</li>
  <li>Here’s a simple example of a policy that grants a user read-only access to an S3 bucket named <code class="language-plaintext highlighter-rouge">my-important-data-bucket</code>:</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"s3:Get*"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:List*"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arn:aws:s3:::my-important-data-bucket/*"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>This policy can be attached to an IAM user, a group, or a role.</p>

<h2 id="4-diagrams">4. Diagrams</h2>

<p>**IAM Relationship Diagram **</p>

<pre><code class="language-mermaid">graph TD
    A[Root Account]
    B(IAM User)
    C(IAM Group)
    D(IAM Role)
    E(IAM Policy)

    A --&gt; B
    A --&gt; C
    A --&gt; D

    C --&gt; B
    B --&gt; E
    C --&gt; E
    D --&gt; E
</code></pre>

<p><strong>Description:</strong> The root account is the top-level entity. You create IAM users, groups, and roles within it. You attach IAM policies to users, groups, and roles to define their permissions. Users can be members of one or more groups, inheriting all the policies attached to those groups. A role is a separate entity that can be assumed by a user or an AWS service.</p>

<h2 id="5-real-world-applications">5. Real-World Applications</h2>

<ul>
  <li><strong>Microservices:</strong> An EC2 instance running a microservice needs to access a DynamoDB table. Instead of hardcoding access keys in the application, you create an IAM role with <code class="language-plaintext highlighter-rouge">dynamodb:Read</code> permissions and attach it to the EC2 instance. The instance automatically gets temporary credentials, which is far more secure.</li>
  <li><strong>CI/CD Pipelines:</strong> A Jenkins server (running on an EC2 instance) needs to deploy new code to an S3 bucket and run a Lambda function. You create an IAM role for the Jenkins EC2 instance with permissions to <code class="language-plaintext highlighter-rouge">s3:PutObject</code> and <code class="language-plaintext highlighter-rouge">lambda:InvokeFunction</code>.</li>
  <li><strong>Enterprise Management:</strong> You have a large organization with different teams (Dev, QA, Ops). You create IAM groups for each team. The “Dev” group has permissions to develop and deploy in a “dev” environment, while the “Ops” group has permissions for managing production resources. This scales much better than managing individual user permissions.</li>
</ul>

<h2 id="6-advantages--drawbacks">6. Advantages &amp; Drawbacks</h2>

<ul>
  <li><strong>Advantages:</strong>
    <ul>
      <li><strong>Fine-grained control:</strong> You can grant very specific permissions, following the principle of least privilege.</li>
      <li><strong>Increased security:</strong> Eliminates the need for long-term shared credentials and provides a secure way to manage access for human users and automated processes.</li>
      <li><strong>Scalability:</strong> Managing permissions for groups of users is much easier than for individuals.</li>
      <li><strong>Centralized management:</strong> All identity and access control is managed from a single service.</li>
    </ul>
  </li>
  <li><strong>Drawbacks:</strong>
    <ul>
      <li><strong>Complexity:</strong> As the number of services and users grows, managing policies can become complex. Overly permissive policies are a common security risk.</li>
      <li><strong>Debugging:</strong> It can be challenging to debug permission issues, especially with multiple policies attached to a user or group. The IAM Policy Simulator is a useful tool for this.</li>
    </ul>
  </li>
</ul>

<h2 id="7-trade-offs">7. Trade-offs</h2>

<ul>
  <li><strong>IAM Users vs. IAM Roles:</strong> IAM Users are for human users or applications that need long-term credentials. IAM Roles are for temporary delegation of permissions. The trade-off is between the convenience of long-term credentials (users) and the security of temporary credentials (roles). <strong>Best practice favors roles</strong> for automated processes and applications to minimize security risks.</li>
</ul>

<h2 id="8-best-practices">8. Best Practices</h2>

<ul>
  <li><strong>Principle of Least Privilege:</strong> Always grant the minimum permissions required. Start with no permissions and add them as needed.</li>
  <li><strong>Don’t use the Root User:</strong> The AWS account root user has unrestricted access. Use it only for initial setup tasks. Create an IAM user with administrative privileges for daily tasks and enable MFA on the root account.</li>
  <li><strong>Use IAM Groups:</strong> Manage permissions at the group level, not the individual user level, to simplify administration.</li>
  <li><strong>Use IAM Roles for Applications:</strong> Never embed access keys in your application code. Use IAM roles for EC2 instances, Lambda functions, etc., to grant them temporary, rotating credentials.</li>
  <li><strong>Enforce MFA:</strong> Always enable Multi-Factor Authentication (MFA) for all IAM users, especially those with administrative privileges.</li>
  <li><strong>Regularly Audit:</strong> Use AWS services like IAM Access Analyzer and CloudTrail to audit and review permissions.</li>
</ul>

<h2 id="9-interview-angle">9. Interview Angle</h2>

<ul>
  <li>
    <p><strong>Q: Explain the difference between an IAM user, a group, and a role.</strong></p>

    <ul>
      <li><strong>A:</strong> An <strong>IAM User</strong> represents a human or an application with long-term credentials. An <strong>IAM Group</strong> is a container for users, allowing you to manage permissions for multiple users at once. An <strong>IAM Role</strong> is for temporary, delegable access. It’s a “hat” an entity can “put on” to gain specific permissions for a task, and it doesn’t have permanent credentials.</li>
    </ul>
  </li>
  <li>
    <p><strong>Q: When would you use an IAM role instead of an IAM user?</strong></p>

    <ul>
      <li><strong>A:</strong> I’d use an IAM role for any automated process or AWS service-to-service communication. For example, if a Lambda function needs to write to a DynamoDB table, I’d create a role with the necessary permissions and assign it to the Lambda function. This is more secure than creating a user and hardcoding its access keys.</li>
    </ul>
  </li>
  <li>
    <p><strong>Q: What is the principle of least privilege, and why is it important in IAM?</strong></p>

    <ul>
      <li><strong>A:</strong> The principle of least privilege is a core security concept that states an entity should only have the minimum set of permissions necessary to perform its function. In IAM, this means crafting policies that are as restrictive as possible. It’s important because it significantly reduces the blast radius of a security breach. If an attacker compromises a user or an application, they can only access the resources defined by that user’s or application’s least-privilege policy.</li>
    </ul>
  </li>
</ul>

<h2 id="10-online-references">10. Online References</h2>

<ul>
  <li><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction_access-management.html">AWS IAM User Guide</a></li>
  <li><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html">IAM Best Practices</a></li>
</ul>

<h2 id="11-summary">11. Summary</h2>

<p>IAM is AWS’s identity and access control service. It is essential for security and governance. The key components are <strong>IAM users</strong> (for individuals), <strong>groups</strong> (for managing permissions in bulk), <strong>roles</strong> (for temporary and secure delegation), and <strong>policies</strong> (JSON documents that define permissions). The goal is to enforce the <strong>principle of least privilege</strong> and avoid using long-term credentials, especially for automated workloads.</p>

<h2 id="12-extra-insights">12. Extra Insights</h2>

<p><strong>Analogy:</strong> Think of an AWS account as a company building.</p>

<ul>
  <li>The <strong>Root User</strong> is the CEO. They have all the keys, but they don’t do daily tasks to avoid getting them lost. They create the first set of employees.</li>
  <li><strong>IAM Users</strong> are the individual employees, each with their own ID badge (credentials).</li>
  <li><strong>IAM Groups</strong> are the departments (e.g., Marketing, Engineering). You give permissions to the department, and everyone in it inherits those permissions.</li>
  <li><strong>IAM Roles</strong> are like temporary access passes. A delivery person (an EC2 instance) needs to drop off a package in a specific room (an S3 bucket). They don’t need a permanent ID badge; they just get a temporary pass for that specific task.</li>
</ul>

<p><strong>Checklist for every project:</strong></p>

<ol>
  <li>Did I create a non-root IAM user for myself?</li>
  <li>Is MFA enabled on my IAM user and the root user?</li>
  <li>Are my application workloads using IAM roles instead of hardcoded credentials?</li>
  <li>Are my policies following the principle of least privilege?</li>
  <li>Do I have a process to regularly review and remove unused users and credentials?</li>
</ol>

<h2 id="13-for-aws-certification-exam-perspective">13. For AWS Certification Exam Perspective</h2>

<ul>
  <li><strong>Key Notes:</strong>
    <ul>
      <li>IAM is a global service, not tied to a specific region.</li>
      <li>The <code class="language-plaintext highlighter-rouge">Deny</code> policy always overrides an <code class="language-plaintext highlighter-rouge">Allow</code> policy.</li>
      <li>IAM roles are the preferred method for granting permissions to AWS services and resources.</li>
      <li>The root account should be protected with MFA and its access keys should be deleted. It should never be used for daily operations.</li>
      <li>Know the difference between <strong>managed policies</strong> (created and managed by AWS, like <code class="language-plaintext highlighter-rouge">AmazonS3ReadOnlyAccess</code>) and <strong>customer-managed policies</strong> (created by you).</li>
      <li>Understand the components of a policy document: <code class="language-plaintext highlighter-rouge">Effect</code>, <code class="language-plaintext highlighter-rouge">Action</code>, <code class="language-plaintext highlighter-rouge">Resource</code>, and <code class="language-plaintext highlighter-rouge">Principal</code>.</li>
      <li>A statement in an IAM Policy consists of <code class="language-plaintext highlighter-rouge">Sid</code>, <code class="language-plaintext highlighter-rouge">Efect</code>, <code class="language-plaintext highlighter-rouge">Principal</code>, <code class="language-plaintext highlighter-rouge">Action</code>, <code class="language-plaintext highlighter-rouge">Resource</code> and <code class="language-plaintext highlighter-rouge">Condition</code>.
        <ul>
          <li>While <code class="language-plaintext highlighter-rouge">Version</code> is part of the IAM Policy itself, not the statement.</li>
        </ul>
      </li>
      <li>Be familiar with the IAM Policy Simulator to test permissions.</li>
      <li>Remember the principle of least privilege and its importance for security.</li>
    </ul>
  </li>
</ul>

<p>For an in-depth tutorial on AWS IAM, consider watching this video: <a href="https://www.youtube.com/watch?v=hAk-7ImN6iM">AWS IAM Explained: Users, Groups, Roles &amp; Policies</a></p>

<hr />


<!-- TODO: add footer -->